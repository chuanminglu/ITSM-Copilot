# ITSM需求助手 - HTML原型说明文档

> **项目**: 广东电信AI赋能软件需求培训  
> **生成时间**: 2025年12月8日  
> **技术栈**: HTML + CSS + JavaScript（纯前端，无需服务器）

---

## 📁 文件结构

```
prototype/itsm-assistant/
├── index.html              # 演示入口页面（推荐从这里开始）
├── sidebar-main.html       # 侧边栏主界面（核心功能页）
├── page-category.html      # 系统分类导航页
├── page-examples.html      # 需求示例库页
└── README.md              # 本说明文档
```

---

## 🚀 快速开始

### 方式1：直接打开HTML文件

1. 双击 `index.html` 打开演示入口页
2. 点击页面中的链接导航到各个功能页面

### 方式2：使用本地服务器（推荐）

```powershell
# 在当前目录启动简单的HTTP服务器
python -m http.server 8000

# 或使用VS Code的Live Server插件
# 右键点击index.html → Open with Live Server
```

然后在浏览器访问：`http://localhost:8000/index.html`

---

## 📄 页面功能说明

### 1. index.html - 演示入口页

**功能**：
- 项目简介和功能概览
- 6大核心功能卡片展示
- 页面导航链接
- 使用提示说明

**使用场景**：
- 演示前的引导页面
- 向客户/领导展示项目概览

---

### 2. sidebar-main.html - 侧边栏主界面 ⭐核心页面

**功能**：
1. **系统选择区**
   - ✅ 智能搜索框（支持拼音搜索）
   - ✅ 系统选择和确认
   - ✅ 信心度反馈（确定/一般/不确定）
   - 🔗 跳转到系统分类导航页

2. **模板推荐区**
   - ✅ 智能模板推荐卡片（基于标题关键词）
   - ✅ 手动选择模板（Bug/优化/新功能）
   - ✅ 推荐置信度显示

3. **需求填写区**
   - ✅ 需求标题输入（10-100字）
   - ✅ 需求背景（50-500字，带placeholder引导）
   - ✅ 需求目标（20-300字）
   - ✅ 使用场景（30-400字）
   - ✅ 验收标准（20-300字）
   - ✅ 实时字段验证（长度、必填）
   - 🔗 跳转到需求示例库页

4. **质量评分区**
   - ✅ 实时质量评分（0-100分）
   - ✅ 星级评价（0-5星）
   - ✅ 进度条颜色分级（红<60/黄60-80/绿>80）
   - ✅ 评分详情展开（5维度：完整性/字数/关键词/场景/验收）

5. **操作按钮区**
   - ✅ 填充到ITSM按钮（带loading状态）
   - ✅ 重置按钮
   - ✅ 提交前警告对话框（质量<60分触发）

**测试数据**：
- 已预置系统选择：CRM客户管理系统
- 已预置信心度：确定
- 可直接输入需求内容测试质量评分

**交互演示**：
```
1. 在"需求标题"输入：客户查询很慢
   → 自动推荐"Bug反馈"模板（置信度85%）

2. 填写4个字段内容
   → 实时计算质量评分
   → 评分<60分时字段下方显示警告提示

3. 点击"填充到ITSM"
   → 质量>=60分：直接填充，显示成功提示
   → 质量<60分：弹出警告对话框，显示缺失项
```

---

### 3. page-category.html - 系统分类导航页

**功能**：
- ✅ 6大分类卡片（客户/计费/网络/数据/运维/HR）
- ✅ 每个分类包含4-8个系统
- ✅ 系统别名标签展示（如：CRM → khgl）
- ✅ 点击系统后保存到LocalStorage并返回主界面

**系统数据**：
- 客户类：8个系统（CRM、客服平台、数据分析等）
- 计费类：6个系统（计费、账单、欠费管理等）
- 网络类：7个系统（监控、告警、优化等）
- 数据类：5个系统（数据仓库、报表、大数据等）
- 运维类：6个系统（工单、资源、自动化等）
- HR类：4个系统（人事、考勤、绩效等）

**交互流程**：
```
1. 点击"客户类"卡片
   → 卡片高亮，下方展开8个系统

2. 点击"CRM客户管理系统"
   → 显示提示："已选择：CRM客户管理系统"
   → 1秒后自动返回主界面
```

---

### 4. page-examples.html - 需求示例库页

**功能**：
- ✅ 场景筛选器（全部/Bug/优化/新功能）
- ✅ 6个高质量需求示例
- ✅ 示例卡片展示（标题、评分、标签）
- ✅ 点击展开查看完整4字段内容
- ✅ 一键复制示例内容
- ✅ 一键应用示例到表单

**示例数据**：
| 示例标题 | 类型 | 评分 | 说明 |
|---------|------|------|------|
| CRM客户查询响应慢 | Bug | 95分 | 性能优化类Bug示例 |
| 计费账单详情页加载失败 | Bug | 92分 | 错误修复类Bug示例 |
| 工单系统增加批量分配功能 | 优化 | 88分 | 功能优化示例 |
| 监控告警增加智能降噪功能 | 优化 | 90分 | AI赋能优化示例 |
| 开发客户画像自动生成功能 | 新功能 | 85分 | 新功能开发示例 |
| 开发移动端工单APP | 新功能 | 87分 | 移动端开发示例 |

**交互流程**：
```
1. 点击"Bug反馈"筛选标签
   → 列表只显示Bug类示例

2. 点击某个示例卡片
   → 展开显示完整的4字段内容

3. 点击"应用此示例"
   → 保存到LocalStorage
   → 显示提示："示例已应用，正在返回..."
   → 1秒后返回主界面
   → 主界面自动填充示例内容
```

---

## 🎯 核心功能演示流程

### 完整体验路径（推荐）

```
1. 打开 index.html
   → 阅读项目简介
   → 了解6大核心功能

2. 点击"侧边栏主界面"
   → 查看已选择的系统（CRM）
   
3. 点击"不确定？浏览分类"
   → 跳转到系统分类导航页
   → 点击"计费类" → 选择"计费系统"
   → 自动返回主界面

4. 在主界面输入需求标题："账单查询很慢"
   → 观察智能推荐：推荐"Bug反馈"模板（置信度85%）
   → 点击"应用此模板"

5. 点击"查看示例"链接
   → 跳转到示例库页
   → 筛选"Bug反馈"
   → 展开"CRM客户查询响应慢"
   → 点击"应用此示例"
   → 自动返回主界面，表单已填充

6. 观察质量评分实时变化
   → 评分从0分提升到95分
   → 星级从0星变为5星
   → 进度条从红色变为绿色
   → 点击"查看评分详情"查看5维度评分

7. 点击"填充到ITSM"
   → 质量>=60分：显示成功提示
   → 控制台输出填充内容（模拟）
   → 保存到LocalStorage历史记录
```

### 低质量需求演示（演示提交前拦截）

```
1. 在主界面重置表单
2. 只填写标题："账单有问题"（少于10字会提示错误）
3. 只填写背景："账单有问题"（少于50字）
4. 不填写其他字段
5. 观察质量评分：约15分（红色）
6. 点击"填充到ITSM"
   → 弹出警告对话框
   → 显示当前评分：15分
   → 显示缺失项列表
   → 提供"返回修改"和"强制填充"选项
```

---

## 💾 数据存储机制

### LocalStorage键值说明

| 键名 | 数据类型 | 用途 |
|------|---------|------|
| `selectedSystem` | Object | 存储选中的系统（id, name） |
| `appliedExample` | Object | 存储应用的示例（title, content, type） |
| `itsm_history` | Array | 存储历史提交记录 |

### 数据流转示例

**场景：从分类页选择系统**
```javascript
// page-category.html 保存选择
localStorage.setItem('selectedSystem', JSON.stringify({
  id: 'SYS001',
  name: 'CRM客户管理系统'
}));

// sidebar-main.html 读取选择（需手动实现）
const selected = JSON.parse(localStorage.getItem('selectedSystem'));
if (selected) {
  selectSystem(selected.id, selected.name);
}
```

**场景：从示例库应用示例**
```javascript
// page-examples.html 保存示例
localStorage.setItem('appliedExample', JSON.stringify({
  title: 'CRM客户查询响应慢',
  content: { background: '...', goal: '...', ... },
  type: 'bug'
}));

// sidebar-main.html 读取示例（需手动实现）
const example = JSON.parse(localStorage.getItem('appliedExample'));
if (example) {
  document.getElementById('requirementTitle').value = example.title;
  // ... 填充其他字段
}
```

---

## 🎨 样式规范

### 色彩体系

| 用途 | 色值 | 应用场景 |
|------|------|---------|
| 主色调 | `#1890ff` | 按钮、链接、选中状态 |
| 成功色 | `#52c41a` | 质量>80、成功提示 |
| 警告色 | `#faad14` | 质量60-80、一般提示 |
| 错误色 | `#f5222d` | 质量<60、错误提示 |
| 背景色 | `#f5f5f5` | 页面背景 |
| 卡片背景 | `#ffffff` | 组件背景 |

### 组件尺寸

| 组件 | 尺寸 |
|------|------|
| 侧边栏宽度 | 380px |
| 按钮高度 | 主按钮36px / 次要按钮32px |
| 圆角 | 4-8px |
| 阴影 | `0 2px 8px rgba(0,0,0,0.08)` |

---

## 🔧 技术特性

### 1. 防抖优化

- 搜索框输入：200ms防抖
- 标题输入（模板推荐）：300ms防抖
- 表单内容变化（质量检测）：500ms防抖

### 2. 表单验证

- 实时验证：长度、必填、格式
- 错误提示：字段下方红色提示文字
- 边框高亮：错误字段红色边框

### 3. 交互反馈

- Toast提示：3秒自动消失
- 按钮Loading：提交时显示加载动画
- 模态对话框：提交前警告弹窗

### 4. 动画效果

- 页面跳转：平滑过渡
- 元素展开/收起：max-height动画
- 悬停效果：transform + box-shadow

---

## 📊 质量评分算法

### 评分维度（总分100分）

1. **完整性（25分）**
   - 5个字段全填：25分
   - 4个字段：20分
   - 3个字段：12分
   - 2个字段：6分
   - 1个字段：2分

2. **字数（30分）**
   - 背景：字数×0.6，最多30分
   - 目标：字数×1.25，最多25分
   - 场景：字数×0.83，最多25分
   - 验收：字数，最多20分
   - 总分按比例折算为30分

3. **关键词（20分）**
   - 包含场景词（客服/用户/客户/员工）：+5分
   - 包含量化词（数字+单位/百分比/P95等）：+5分
   - 包含问题词（慢/卡/报错/失败/异常）：+5分
   - 包含目标词（提升/降低/优化/改进）：+5分

4. **场景描述（15分）**
   - 字数>=30：+5分
   - 包含"谁/什么时候/频率"：+5分
   - 包含数字：+5分

5. **验收标准（10分）**
   - 字数>=20：+3分
   - 包含数字：+4分
   - 包含编号（1./2./3.）：+3分

---

## 🐛 已知限制

1. **浏览器兼容性**
   - 需支持ES6（建议使用Chrome/Edge/Firefox最新版）
   - LocalStorage API

2. **功能限制**
   - 无后端服务，数据仅存储在浏览器LocalStorage
   - 页面间数据传递需手动刷新或跳转
   - 无真实的ITSM系统集成

3. **样式限制**
   - 固定宽度380px（模拟浏览器插件侧边栏）
   - 未适配移动端

---

## 🚀 后续优化建议

### 功能增强

- [ ] 历史记录页面（展示localStorage中的提交历史）
- [ ] 草稿管理页面（自动保存草稿，断点续填）
- [ ] 页面间数据自动同步（不需手动刷新）
- [ ] 导出功能（导出为Markdown/Word）

### 交互优化

- [ ] 键盘快捷键（Ctrl+Enter提交）
- [ ] 更丰富的动画效果
- [ ] 深色模式切换
- [ ] 无障碍支持（ARIA标签）

### 技术升级

- [ ] 使用Vue.js/React重构
- [ ] 集成真实的AI模板推荐API
- [ ] 连接真实的ITSM系统API
- [ ] 打包为真实的浏览器插件

---

## 📞 技术支持

如有问题或建议，请联系：
- **项目**: 广东电信AI赋能软件需求培训
- **文档**: 基于`ITSM系统需求提交优化_设计元素分析.md`和`ITSM系统需求提交优化_交互设计.md`生成

---

**祝演示顺利！** 🎉
